<?php


/**
 * Skeleton subclass for representing a row from the 'formato_correo' table.
 *
 *
 *
 * This class was autogenerated by Propel 1.6.7 on:
 *
 * Mon Feb  5 12:49:12 2018
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    propel.generator.lib.model
 */
class FormatoCorreo extends BaseFormatoCorreo
{
    public static function getFormato($tipo, $comodines)
    {
        $retorno = '';
        switch ($tipo) {
            case "Registro":
                $retorno = "<html>Para ingresar a la aplicacion por favor presione <a href='$link'>Aqui</a></html>";
                $FormatoCorreo = FormatoCorreoQuery::create()
                    ->findOneByTipo($tipo);
                if ($FormatoCorreo) {
                    $retorno = $FormatoCorreo->getContenido();
                }
                break;
            case "Clave":
                $retorno = "<html>Ingrese al siguiente link para recuperar su clave. $link</html>";
                $FormatoCorreo = FormatoCorreoQuery::create()
                    ->findOneByTipo($tipo);
                if ($FormatoCorreo) {
                    $retorno = $FormatoCorreo->getContenido();
                }
                break;
            case "Principal":
                $retorno = "";
                $FormatoCorreo = FormatoInicialQuery::create()
                    ->findOne();
                if ($FormatoCorreo) {
                    $retorno = $FormatoCorreo->getContenido();
                }
                break;
            case "Negocio":
                $retorno = Negocio::texto_correo();
                $FormatoCorreo = FormatoCorreoQuery::create()
                    ->findOneByTipo($tipo);
                if ($FormatoCorreo) {
                    $retorno = $FormatoCorreo->getContenido();
                }
                break;
        }
        foreach($comodines as $llave => $fila){
            $retorno = str_replace($llave, $fila, $retorno);
        }
        return $retorno;
    }
    public static function comodines($tipo)
    {
        $listado = array();
        switch ($tipo) {
            case "Registro":
                $listado["%USUARIO%"] = "Nombre de Usuario";
                $listado["%FECHA%"] = "Fecha Actual";
                $listado["%TELEFONO%"] = "Telefono de Usuario";
                $listado["%LINK%"] = "Link";
                break;
            case "Clave":
                $listado["%USUARIO%"] = "Nombre de Usuario";
                $listado["%FECHA%"] = "Fecha Actual";
                $listado["%TELEFONO%"] = "Telefono de Usuario";
                $listado["%LINK%"] = "Link";
                break;
            case "Negocio":
                $listado["%RENTA%"] = "Renta";
                $listado["%USUARIO%"] = "Usuario";
                $listado["%FECHA%"] = "Fecha Actual";
                $listado["%LINK%"] = "Link";
                break;
            case "Principal":
                $listado["%FECHA%"] = "Fecha Actual";
                break;
        }
        return $listado;
    }
}
